"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[528],{8528:function(s,t,e){e.r(t),e.d(t,{default:function(){return N}});var r=e(8683),i=e(5671),n=e(3144),u=e(136),a=e(5716),o=e(2791),l="ProfileInfo_descriptionBloch__qJ4Zw",p=e(4374),c=e(885),d=e(184),h=function(s){var t=(0,o.useState)(!1),e=(0,c.Z)(t,2),r=e[0],i=e[1],n=(0,o.useState)(s.status),u=(0,c.Z)(n,2),a=u[0],l=u[1];(0,o.useEffect)((function(){l(s.status)}),[s.status]);return(0,d.jsxs)("div",{children:[!r&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:function(){i(!0)},children:s.status||"----------"})}),r&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:function(s){l(s.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),s.updateStatus(a)},value:a})})]})},f=e(7425),m=function(s){return s.profile?(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)("img",{src:null!=s.profile.photos.large?s.profile.photos.large:f}),(0,d.jsx)(h,{status:s.status,updateStatus:s.updateStatus})]})}):(0,d.jsx)(p.p,{})},g="MyPosts_postBlock__SV+6r",x="MyPosts_posts__6EdvY",j="Post_item__LRLWK",v=function(s){return(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("img",{src:"https://w7.pngwing.com/pngs/862/646/png-transparent-beard-hipster-male-man-avatars-xmas-giveaway-icon-thumbnail.png"}),s.message,(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{children:"like "}),s.likeCounts]})]})},S=e(5705),y=e(364),C=e(81),_=o.memo((function(s){console.log("RENDER");var t=(0,y.I0)(),e=(0,S.TA)({initialValues:{message:""},validate:function(s){var t,e={};return s.message?(null===(t=s.message)||void 0===t?void 0:t.length)>150&&(e.message="Max length is 150 symbols"):e.message="Required",e},onSubmit:function(s){t((0,C.q2)(s.message)),e.resetForm()}}),i=s.posts.map((function(s){return(0,d.jsx)("div",{children:(0,d.jsx)(v,{message:s.message,likeCounts:s.likesCounts})},s.id)}));return(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)("h3",{children:"My posts"}),(0,d.jsx)(S.Hy,{value:e,children:(0,d.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,d.jsx)("input",(0,r.Z)({placeholder:"Enter you text"},e.getFieldProps("message"))),e.touched.message&&e.errors.message&&(0,d.jsx)("div",{style:{color:"red"},children:e.errors.message}),(0,d.jsx)("button",{type:"submit",children:"Submit"})]})}),(0,d.jsx)("div",{className:x,children:i})]})})),b=(0,y.$j)((function(s){return{posts:s.profilePage.posts}}))(_),k=function(s){return(0,d.jsxs)("div",{children:[(0,d.jsx)(m,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,d.jsx)(b,{})]})},P=e(9271),Z=e(7781),w=e(5571),T=function(s){(0,u.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,i.Z)(this,e),t.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfileTC(s),this.props.getStatusTC(s)}},{key:"render",value:function(){return this.props.profile?(0,d.jsx)(k,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusTC})):null}}]),e}(o.Component),N=(0,Z.qC)((0,y.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfileTC:C.et,getStatusTC:C.lR,updateStatusTC:C.Nf}),P.EN,w.D)(T)}}]);
//# sourceMappingURL=528.02648c57.chunk.js.map